define2([],function(){angular.module("mettl").register.service("TestWindowTestStateService",function(){var d={init:function(a){this.testState=angular.extend(this.testState,a.state.testState);this.companyName=a.CompanyName;this.testDuration=a.testWindowData.Duration;this.redirectUrl=a.redirectUrl;this.isApi=a.isApi;this.isPrivateInviteLink=a.isPrivateInviteLink;this.candidate.name=a.candidateName;this.candidate.email=a.candidateEmail;this.candidate.id=a.CandidateInstanceId;this.candidate.clientId=
a.ClientID;this.candidate.scheduleKey=a.scheduleKey;this.candidate.isWebProctored=this.testState.isWebProctored;this.candidate.assessmentId=a.testWindowData.AssessmentID},initTestContent:function(a){this.testState=angular.extend(this.testState,a.state.testState);var b=a.testWindowContent.Assessment.Sections;this.IsTestPaused=a.IsTestPaused;this.sectionState.init(b.length);this.candidate.isTestPaused=a.IsTestPaused||!1;this.sectionState.currentIndex=a.state.currentSectionIndex;this.sectionState.current=
b[a.state.currentSectionIndex];this.itemState.currentIndex=a.state.currentItemIndex;this.itemState.current=this.sectionState.current.Items[a.state.currentItemIndex]},candidate:{name:"diagnostics",email:"diagnostics@mettl.com",id:parseInt(1E6*Math.random()),type:0,clientId:0,scheduleKey:"",isWebProctored:!1,assessmentId:"",isSystemCheck:!1,isTestPaused:!1},testState:{isTestDisplayed:!1,isPreview:!1,isTestStarted:!1,isTestPaused:!1,testEndingMode:!1,isPowerResume:!1,testAttemptNumber:0,isTestProctorPaused:!1,
isWebProctored:!1,isAllowCopyPaste:!1,visualProctoring:!1,uiSettings:void 0,isQuestionPreview:!1,showResult:!1,showReport:!1,isPractiseTest:!1,crossClickAttempted:!1,isTestEnding:!1,isSectionTimeOverAndResumed:!1,SnapsTaken:0,blurCount:0,blurLimit:0,SnapTime:0,cameraInactive:!1,cameraDialogueShowing:!1,PendingPromises:[],CandidateProctoringConsentGiven:!1},itemState:{current:void 0,currentIndex:-1,setCurrent:function(a){this.current=a;this.currentIndex=a.Index}},sectionState:new function(){var a=
{sections:{},init:function(b){for(var c=0;c<b;c++)a.sections[c]={sectionChangeTransition:!1,timedOut:!1}}};return{currentIndex:-1,currentStartTime:0,current:void 0,setCurrent:function(a){this.current=a;this.currentIndex=a.Index},instruction:new function(){var a=!1;return{isOn:function(){return a},setOn:function(){a=!0},setOff:function(){a=!1}}},init:function(b){a.init(b)},timedOut:{get:function(b){return a.sections[b].timedOut},set:function(b,c){a.sections[b].timedOut=c}},sectionChangeTransition:{isInCurrent:function(){return this.get(d.sectionState.currentIndex)},
isIn:function(a){return this.get(a)},get:function(b){return a.sections[b].sectionChangeTransition},set:function(b,c){a.sections[b].sectionChangeTransition=c}}}},onAnyRetry:function(){return this.retry.OnAnything()},retry:new function(){function a(){this.Retrying=!1;this.Count=0;this.Refresh=function(){this.Retrying=!1;this.Count=0}}var b=!1;return{OnStartTest:new a,OnPartialResponse:new a,OnFinishTest:new a,OnPingPr:new a,OnAnything:function(){return this.OnFinishTest.Retrying||this.OnPartialResponse.Retrying||
this.OnStartTest.Retrying},isRetrying:function(){return b},setRetry:function(a){b=a}}},PRSource:"Unknown"};return d})});