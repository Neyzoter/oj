define2([],function(){angular.module("mettl").register.service("AuthorizationDataService",["$log",function(r){function p(a,g,b,h,c,d){this.RegistrationFieldID=a;this.DisplayName=g;void 0===h&&(h=null);this.FieldType=b;this.value=h;this.Order=c;this.IsPrefilled=d}function q(a){angular.forEach(a,function(a,b){d[b]=a;c[b]=a})}var k,c={},e={},f,m={},n=null,l=!1,d={};return{getAuthenticationDetails:function(){return k},resetAuthenticationDetails:function(){k=void 0},getCRFsRequiredJson:function(){return encodeURIComponent(angular.toJson(e))},
getCrfsRequired:function(){return e},getCandidateId:function(){if(c.uniqueId)return c.uniqueId},getCandidateEmailId:function(){if(c.email)return decodeURIComponent(c.email)},getCandidateDetails:function(){return c},setAuthenticationDetails:function(a,g,b){k=a.authenticationDetails;e={};angular.forEach(g,function(a){a=new p(a.RegistrationFieldID,a.DisplayName,a.FieldType,a.value,a.Order,a.IsPrefilled);e[a.RegistrationFieldID]=a});c={name:encodeURIComponent(a.candidateName),email:encodeURIComponent(a.candidateEmail),
uniqueId:a.candidateInstanceId,clientId:b.clientId,isTestPaused:!1,scheduleKey:b.key,isWebProctored:b.isWebProctored,assessmentId:b.assessmentId,type:0,isSystemCheck:!1,isApi:b.isApi,checkSuspiciousSoftware:!1,isRunningWebRTC:l,hasScreens:b.proctoringSettings.screenCapture,id:d.id||0,groupId:d.groupId||0,isMpsCandidate:!1,mpsClientId:d.mpsClientId||1,mappedProctorData:a.mappedProctorData}},setAuthorizationResponse:function(a){a.comments=unescape(a.comments);f=a},getAuthorizationResponse:function(){return f},
isResubmitRequested:function(){return f&&"ResubmitRequested"==f.updateType},setOnlineAdmins:function(a){m=a},getOnlineAdmins:function(){return m},setAdminData:function(a,c){n={id:a,name:c}},getAdminData:function(){return n},setCandidateRunningWebRTC:function(a){l=a},isCandidateRunningWebRTC:function(){return l},updateMpsCandidateInfo:function(a){q(a)},getMpsCandidateInfo:function(){return d}}}])});