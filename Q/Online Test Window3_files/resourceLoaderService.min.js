define2(["services/testWindowConstants"],function(){angular.module("mettl").register.service("ResourceLoaderService",["$q","$log","$http","$templateCache","$rootScope","TestWindowConstants",function(h,k,l,m,q,r){function n(b){var e=conf.getStaticServerUrl()+"/resources/images/";angular.forEach("diagnostics-sprite.png new-sprite-test-page.png information.png confirm.png clock.png warning.png suspiciousSoftware.png timer.png stop.gif finish_test.png success.png".split(" "),function(a){g.loadImage(e+
a,void 0,void 0)});var a="/partials/instructions /partials/registration /partials/startTest /partials/testWindow /partials/testWindowSection /partials/paginationCarousel /partials/paginationFilter".split(" "),c="services/testWindowConstants services/testWindowSectionFactory services/testWindowItemFactory services/testWindowFactory services/testWindowTestStateService services/testWindowEnvironmentService services/testWindowSectionService services/testWindowQuestionService services/testWindowServerUtilsService services/testWindowCommonUtils services/ticktockService services/gaService services/urlService services/errorLogService services/sebConnectionService directives/testWindowDirectives directives/paginationFilterDirective directives/paginationCarouselDirective filters/testWindowFilters controllers/testWindowSectionCtrl controllers/instructionsCtrl controllers/registrationCtrl controllers/startTestCtrl controllers/baseQuestionCtrl controllers/testWindowCtrl controllers/testWindowSectionCtrl controllers/resultCtrl".split(" ");
b.waitToResume&&(a.push("/partials/resume"),c.push("controllers/resumeCtrl"));b.visualProctoring?(c.push("controllers/proctoringCtrl"),c.push("controllers/appletErrorCtrl"),c.push("controllers/webProctoringCtrl"),c.push("services/webProctoringService")):b.isWebProctored&&(c.push("controllers/webProctoringCtrl"),c.push("services/webProctoringService"));return{templateFiles:a,jsFiles:c}}function d(b,e){var a=h.defer(),c=h.defer();require2(b,function(){window.monacoUtils&&monacoUtils.loadMonacoDependencies({mettlStaticUrl:conf.getStaticServerUrl(),
otherKeyMapsNeeded:!0,monacoClientUrl:conf.monacoClientUrl},function(a){a&&console.log("Error in loading monaco dependencies. Error: ",a)});k.log("all js files loaded");c.resolve()},function(a){c.reject(a)});var d=[];angular.forEach(e,function(a){d.push(l.get(a,{cache:m}))});d.push(c.promise);h.all(d).then(function(){k.log("all template files loaded");a.resolve()},function(b){a.reject(b)});return a.promise}function p(b){angular.forEach(b,function(b,a){g.loadImage(b)})}var g=new function(){function b(a){return-1!=
a.indexOf("?")?a.substring(0,a.indexOf("?")):a}var e={};return{loadImage:function(a,c,d){var f=new Image;f.onabort=f.onerror=function(b){k.info("image ("+a+") loading failed");"function"==typeof d&&d()};f.onload=function(d){"function"==typeof c&&c();try{e[b(a)]=!0,delete f.onload}catch(g){f.onload=angular.noop}};f.src=a},isImageLoaded:function(a){return b(a)in e}}};return{isImageLoaded:function(b){return g.isImageLoaded(b)},loadImage:function(b,d,a){g.loadImage(b,d,a)},preLoadCommonResources:function(b){b=
n(b);return d(b.jsFiles,b.templateFiles)},preLoadQuestionResources:function(b,e){p(e);var a=[],c=[];b.hasSnippet&&a.push("directives/codeEditorDirective");b.hasCaseStudy&&(c.push("/partials/rr_cs"),a.push("controllers/casestudyQuestionCtrl"),a.push("directives/caseStudyDirective"));b.hasCodeProject&&(c.push("/partials/rr_cp"),a.push("controllers/codeProjectQuestionCtrl"),a.push("directives/codeEditorDirective"));b.hasFes&&(c.push("/partials/rr_fes"),a.push("controllers/fesQuestionCtrl"),a.push("directives/fesDirective"));
b.hasCode&&(c.push("/partials/rr_code"),a.push("controllers/codeQuestionCtrl"),a.push("directives/monacoEditorDirective"),a.push("plugin/common-plugins/monaco-mettl"),a.push("plugin/common-plugins/lsp-metric-sender"));b.hasSql&&(c.push("/partials/rr_db"),a.push("controllers/dbQuestionCtrl"));b.hasLongAnswer&&(c.push("/partials/rr_long_answer"),a.push("controllers/longAnswerQuestionCtrl"),a.push("directives/longAnswerDirective"));b.hasMcq&&(c.push("/partials/rr_mcqa"),a.push("controllers/mcqQuestionCtrl"));
b.hasFitb&&(c.push("/partials/rr_fitb"),a.push("controllers/fitbQuestionCtrl"));b.hasMca&&(c.push("/partials/rr_mcqa"),a.push("controllers/mcaQuestionCtrl"));b.hasShortAnswer&&(c.push("/partials/rr_short_answer"),a.push("controllers/shortAnswerQuestionCtrl"));b.hasSs&&(c.push("/partials/rr_ss"),a.push("controllers/spreadsheetQuestionCtrl"));b.hasFileUpload&&(c.push("/partials/rr_fu"),a.push("controllers/fileUploadQuestionCtrl"),a.push("directives/dragDropFileUploadDirective"));b.hasMsq&&(c.push("/partials/rr_msq"),
a.push("controllers/msqQuestionCtrl"));b.hasDiagram&&(c.push("/partials/rr_diagram_question"),a.push("controllers/diagramQuestionCtrl"),a.push("directives/diagramDirective"));b.hasRLanguage&&(c.push("/partials/rr_r"),a.push("plugin/aceEditor/ace"),a.push("plugin/mettl.socket.min"),a.push("plugin/rLanguage/rLanguage.min"),a.push("services/simulatorQuestionService"),a.push("controllers/rQuestionCtrl"));b.hasMeanStack&&(c.push("/partials/rr_meanstack"),a.push("plugin/mettl.socket.min"),a.push("plugin/meanStack/meanStack.min"),
a.push("services/meanStackQuestionService"),a.push("controllers/meanStackQuestionCtrl"));b.hasAudio&&c.push("/partials/rr_audio");b.hasVideo&&c.push("/partials/rr_video");if(b.hasAudio||b.hasVideo)a.push("constants/mediaQuestionConstants"),a.push("services/mediaQuestionService"),a.push("controllers/mediaQuestionCtrl");b.hasTyping&&(c.push("/partials/rr_typing"),a.push("controllers/typingQuestionCtrl"));return d(a,c)},preLoadAdvanceDiagnosticsResource:function(b){var e=["/partials/candidateChatTemplate"],
a="services/diagnosticService services/errorLogService services/authorizationDataService services/authorizationService services/messageProcessingService services/appletService services/proctoring/proctoringFactory constants/proctoringConstants directives/chatDirective directives/diagnosticsDirective controllers/authorizationCtrl controllers/proctoringCtrl controllers/diagnosticsAdvanceCtrl controllers/appletErrorCtrl controllers/diagnosticsWebrtcProctoringCtrl".split(" ");b&&(e.push("/partials/authorization"),
a.push("services/authorizationDataService"));return d(a,e)},preLoadFileUploadPlugins:function(){return d(["plugin/jquery/jQuery-File-Upload/js/jquery.fileupload.min","plugin/jquery/jQuery-File-Upload/js/jquery.ui.widget.min","plugin/jquery/jQuery-File-Upload/js/jquery.iframe-transport.min"],[])},preLoadWebRTCDiagnosticsResource:function(){return d(["services/proctoring/webrtcProctoringService","controllers/diagnosticsWebrtcProctoringCtrl"],["/partials/diagnostics/pendingWebRTCPermissions"])},preLoadMediaQuestionDiagnosticResource:function(){return d(["controllers/diagnosticsMediaQuestionCtrl"])}}}])});