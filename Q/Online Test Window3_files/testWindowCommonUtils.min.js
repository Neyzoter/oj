define2(["services/testWindowConstants"],function(){angular.module("mettl").register.service("TestWindowCommonUtils",["$log","$rootScope","TestWindowConstants","TestWindowTestStateService",function(e,c,d,f){function b(){c.$broadcast(d.Events.Test.CloseIFRAMEWindow);$("#test-window").html("\x3ch1 class\x3d'text-center'\x3eClose this window now!!!\x3c/h1\x3e")}return new function(){return{isIE:function(){var a=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./);return $.browser.msie||a},sendDataOnAUI:function(){var a=
!1;$.browser&&$.browser.msie&&(8==parseInt($.browser.version,10)||9==parseInt($.browser.version,10))&&(a=!0);return a},htmlEncode:function(a){return a?a.replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"):a},htmlDecode:function(a){return a?a.replace(/&amp;/g,"\x26").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e"):a},syncParent:function(a,b){try{window.opener.Mettl.Parent.RRCallBack(a,b||{})}catch(c){}},closeWindow:function(){try{window.onbeforeunload=
angular.noop,window.open("","_self",""),window.close(),top.window.close(),b()}catch(a){b()}},isInIframe:function(){return window.self!==window.top},currentOrientationChange:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)?90!==Math.abs(window.orientation):/Android|BlackBerrysafari|IEMobile|Opera Mini/i.test(navigator.userAgent)?screen.availHeight>screen.availWidth:!1}}}}])});