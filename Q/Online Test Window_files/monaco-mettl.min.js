var isMonacoLoaded=!1;
(function(){var c,k=new function(){function a(a,b,c,n,m,g,f){this.compilerVersion=a||"NA";this.mode=b||"";this.lspEnabled=!!c;this.monacoSupport=!!n;this.label=m||"";this.lspUrlMode=g||"";this.fileExtension=f||""}function c(a){return b[a].mode}var b={C:new a("gcc 5.4.0","c",1,1,"C","cpp",".c"),R:new a("R 3.4.3","r",0,1,"R","",".r"),VB:new a("Mono 4.2.1","vb",0,1,"VB.Net","",".vb"),CPP:new a("g++ 5.4.0","cpp",1,1,"C++","cpp",".cpp"),GO1:new a("Go - 1.7","go",0,1,"GO","",".go"),PHP:new a("PHP 5.5.9",
"php",0,1,"PHP","",".php"),NODE:new a("node 10.5.0","javascript",0,1,"NODE (JAVASCRIPT)","",".js"),RUBY:new a("Ruby 2.3.1","ruby",0,1,"RUBY","",".rb"),JAVA6:new a("Java - 1.6","java",1,1,"JAVA6","java8",".java"),JAVA7:new a("Java - 1.7","java",1,1,"JAVA7","java8",".java"),JAVA8:new a("Java - 1.8","java",1,1,"JAVA8","java8",".java"),CSHARP:new a("Mono 4.2.1","csharp",1,1,"C#","csharp",".cs"),ELIXIR:new a("elixir 1.6.0","elixir",0,0,"ELIXIR","",".ex"),KOTLIN:new a("kotlin 1.2.51","kotlin",0,0,"KOTLIN",
"",".kt"),SCALA2:new a("scala 2.12","scala",0,0,"SCALA2","",".scala"),SWIFT2:new a("Swift - 2.2","swift",0,1,"SWIFT2","",".swift"),SWIFT4:new a("Swift - 4.2.1","swift",0,1,"SWIFT4","",".swift"),PYTHON2:new a("Python 2.7","python",1,1,"PYTHON2","python2",".py"),PYTHON3:new a("Python 3.6","python",1,1,"PYTHON3","python3",".py"),OBJECTIVEC:new a("gnustep 2.3","objective-c",0,1,"OBJECTIVEC","",".m"),JAVASCRIPT8:new a("Rhino 1.7","javascript",0,1,"JAVASCRIPT8","",".js")};return{isValidLanguage:function(a){return!!a&&
!!b[a]},getCompilerVersionForLanguage:function(a){return b[a].compilerVersion},isLspEnabled:function(a){return b[a].lspEnabled},getMonacoUnsupportedLanguages:function(){var a=[],e;for(e in b)b[e].monacoSupport||a.push(c(e));return a},getLanguageMode:c,getLanguageObjectForUi:function(){var a={},c;for(c in b){var h=b[c];a[c]={label:h.label,compiler:h.compilerVersion}}return a},getLspUrlMode:function(a){return b[a].lspUrlMode},getFileExtension:function(a){return b[a].fileExtension}}},b=new function(){function a(a,
d,g,c,f){if(!a||""===a)throw Error("No content found to populate in the editor.");if(!k.isValidLanguage(d))throw Error("No language mode found for the editor.");if(void 0===p&&(!f||f.constructor!=={}.constructor))throw Error("Invalid editor options found");void 0===p&&(p=f);s=d;b(p,function(b){b?(console.log("Error in loading monaco dependencies. Error: ",b),alert("Something went wrong")):(w.setWsServerUrl(p.lspWsServerUrl),t(a,d,p,g,c))})}function b(a,d){if(isMonacoLoaded)d();else if(a){var g=a.mettlStaticUrl+
"/resources/scripts/plugins/monaco-editor",c={vs:g+"/min/vs",tokenizer:g+"/monaco-ace-tokenizer/dist","common-plugins":a.mettlStaticUrl+"/resources/scripts/plugins/common-plugins"};a.otherKeyMapsNeeded&&(c.monacoVim=g+"/monaco-vim",c.monacoEmacs=g+"/monaco-emacs");try{requirejs.config({paths:c});for(var g=["tokenizer/monaco-tokenizer"],f=k.getMonacoUnsupportedLanguages(),c=0;c<f.length;c++)g.push("tokenizer/definitions/"+f[c]);g.push("vs/editor/editor.main");g.push("common-plugins/lsp-logparser.min");
requirejs(g,function(g){for(var c=1;c<=f.length;c++)e(f[c-1],arguments[c],g);requirejs([a.monacoClientUrl+"main.bundle.min.js"],function(){isMonacoLoaded=!0;d()},d)},d)}catch(l){d(l)}}else d("No options found")}function t(a,b,f,l,e){var h=!!f.isReadOnly;b=k.getLanguageMode(b);n(l);l&&(q=monaco.editor.createModel(a,b,e?r(b):u));var B={model:q,glyphMargin:!0,lightbulb:{enabled:!1},minimap:{enabled:!1},scrollBeyondLastLine:!1,codeLens:!1,contextmenu:!!f.rightClickAllowed,readOnly:h};h||(B.tabSize=Number(x),
B.theme=y);setTimeout(function(){q.setValue(a);c=monaco.editor.create(document.getElementById(f.editorDomId),B);MonacoLCWrapper.monacoServices.install(c,{rootUri:u});g();d();!h&&z&&(F(z),z=null,c.focus());f.otherKeyMapsNeeded&&m();f.readOnlyRegionNeeded&&G.createReadOnlyRegion("vs-dark"===y,f.onContentChangeHandler);if(f.createNewLsp){var b=s;w.closeLspWebSocket();k.isLspEnabled(b)?w.initLsp(b,p.metricsHandlerOptions):console.log("LSP doesn't exist for language: ",b)}})}function r(a){C="UserMainCode"+
k.getFileExtension(s);D=MonacoLCWrapper.uuidModule();u=MonacoLCWrapper.pathModule.join("file:///root/lspData/workspace/"+a+"/",D);return monaco.Uri.parse(MonacoLCWrapper.pathModule.join(u,C))}function e(a,d,g){monaco.languages.register({id:a});g.registerRulesForLanguage(a,new d["default"])}function h(){return c.getValue()}function n(a){c&&(z=l(),c.dispose());a&&q&&q.dispose()}function m(){v=null;var a=document.getElementById("keymap-status");a&&(a.innerHTML="");switch(A){case "vim":setTimeout(function(){require(["monacoVim"],
function(d){d.initVimMode(c,a)})});break;case "emacs":setTimeout(function(){require(["monacoEmacs"],function(d){v=new d.EmacsExtension(c);v.onDidMarkChange(function(d){a.textContent=d?"Mark Set!":"Mark Unset"});v.onDidChangeKey(function(d){a.textContent=d});v.start();c.addCommand(monaco.KeyCode.F1,function(){})})});break;case "default":break;default:throw Error("Invalid keymap type: ",A);}}function g(){c.getModel().updateOptions({tabSize:x})}function f(a){switch(a){case "theme":return y;case "tabSize":return x;
case "keyMap":return A;case "intellisense":return!!E;default:throw Error("Invalid setting type found. Setting type: ",a);}}function d(){c.updateOptions({quickSuggestions:E?!k.isLspEnabled(s):!1})}function l(){return c.getPosition()}function F(a){c.setPosition(a)}var q,x=4,y="vs",A="default",v,s,p,C,u,z,E=!0,D;return{createEditor:a,getEditorValue:h,setEditorValue:function(a){a&&c&&c.setValue(a)},applyEditorHandlers:function(a,d){if("function"===typeof a)var g=setInterval(function(){if(c){var b=function(a){if(G.hasReadOnlyRegion(c.getSelection()))return a.preventDefault();
a=c.getSelection();f=c.getModel().getValueInRange(new monaco.Range(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn))};clearInterval(g);c.onDidFocusEditorWidget(a);var f="",l=document.getElementById(p.editorDomId);d&&(l.addEventListener("cut",b),l.addEventListener("copy",b),c.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_V,function(){if(f){var a=c.getSelection(),a={identifier:{major:1,minor:1},range:new monaco.Range(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn),text:f,
forceMoveMarkers:!0};c.executeEdits("my-source",[a])}}))}},800)},changeEditorSettings:function(c,b){if(String(b)!==String(f(c)))switch(c){case "theme":if(-1===["vs","vs-dark"].indexOf(b))throw Error("Invalid theme type: ",b);y=b;p.createNewLsp=!1;a(h(),s,!1,!1,p);break;case "tabSize":x=Number(b);g();break;case "keyMap":A=b;p.createNewLsp=!1;a(h(),s,!1,!1,p);break;case "intellisense":E=!!b;d();break;default:throw Error("Invalid setting type found: ",c);}},resizeEditor:function(){c.layout()},getCursorPosition:l,
setCursorPosition:F,getRootUri:function(){return u},getFileName:function(){return C},clearEditorOptions:function(){p=void 0},disposeEditor:n,loadMonacoDependencies:b,getRootUriUniqueId:function(){return D}}},H=new function(){return{showWarningLine:function(a){a=Number(a);c.deltaDecorations([],[{range:new monaco.Range(a,0,a,1),options:{linesDecorationsClassName:"warning-line"}}])}}},G=new function(){function a(a){a=a.split("\n");var b=-1,d=!1;h=[];for(var l=0;l<a.length;l++){var e=a[l];if(!d&&-1<e.indexOf("Read only region start"))d=
!0,b=l+1;else if(d&&-1<e.indexOf("Read only region end")){e=new monaco.Range(b,1,l+1,500);d=!1;h.push(e);var q=h.length-1,k=m[q]||[],k=c.deltaDecorations(k,[{range:e,options:{className:n}}]);m.length-1<=q?m.push(k):m[q]=k}}}function k(a){var b=[];a=a.split("\n");for(var d=!1,c=[],e=0;e<a.length;e++){var m=a[e];!d&&-1<m.indexOf("Read only region start")?(d=!0,c.push(m)):d&&-1<m.indexOf("Read only region end")?(d=!1,c.push(m),b.push(c.join("\n")),c=[]):d&&c.push(m)}return b}function t(a){a=k(a);var b=
k(e);if(!b||!a||b.length!==a.length)return!0;for(var d=0;d<b.length;d++)if(b[d]!==a[d])return!0;return!1}function r(a,c){if(!a)return!1;for(var d=0;d<h.length;d++){var e=h[d];if(a.startLineNumber<=e.getStartPosition().lineNumber&&a.endLineNumber>=e.getStartPosition().lineNumber||a.startLineNumber<=e.getEndPosition().lineNumber&&a.endLineNumber>=e.getEndPosition().lineNumber||a.startLineNumber>=e.getStartPosition().lineNumber&&a.endLineNumber<=e.getEndPosition().lineNumber||a.startLineNumber-1===e.getEndPosition().lineNumber&&
1===a.startColumn&&"Backspace"===c)return!0;var m=b.getEditorValue().split("\n")[a.startLineNumber-1];if(a.startLineNumber+1===e.getStartPosition().lineNumber&&a.startColumn-1===m.length&&"Delete"===c)return!0}return!1}var e,h=[],n,m=[];return{createReadOnlyRegion:function(g,f){n=g?"readOnlyRegionDecorationDark":"readOnlyRegionDecorationLight";e=b.getEditorValue();a(e);c.onDidChangeModelContent(function(d){d=b.getEditorValue();e===d?a(e):(t(d)?(d=b.getCursorPosition(),b.setEditorValue(e),b.setCursorPosition(d)):
e=d,setTimeout(function(){f(e);a(e)}))});c.onKeyDown(function(a){r(c.getSelection(),a.code)&&3!==a.keyCode&&a.preventDefault()})},hasReadOnlyRegion:r}},w=new function(){function a(a,c,e){var d=logParserUtils.parseLSPLog(a)[0];d.uniqueId=e;d.language=c;n&&d&&"window/logMessage"!==d.msgType&&setTimeout(function(){n.handleMetrics(d)});"csharp"===c&&d&&"send-notification"===d.msgKind&&"textDocument/didOpen"===d.msgType&&setTimeout(function(){var a=b.getEditorValue(),c=b.getCursorPosition();b.setEditorValue(a);
b.setCursorPosition(c)},15E3)}function c(b,e,f){console.log("languageClient Ready for language "+e+" rootUriUniqueId "+f);b.trace(1,{log:function(b){a(b,k.getLspUrlMode(e),f)}})}function t(a,b){return new MonacoLCWrapper.monacoLCModule({name:"Language Client",clientOptions:{documentSelector:[b],errorHandler:{error:function(){return 1},closed:function(){return 1}}},connectionProvider:{get:function(b,c){return Promise.resolve(MonacoLCWrapper.createConnetionFunction(a,b,c))}}})}function r(a,b){return MonacoLCWrapper.normalizeFunction(a+
"?data\x3d"+b)}var e,h,n;return{initLsp:function(a,g){var f=k.getLanguageMode(a);console.log("Going to create websocket with lsp server for language mode: ",f);var d=b.getRootUri(),l=b.getRootUriUniqueId(),d={rootUri:d,fileName:b.getFileName()};n=g;d=r(h+k.getLspUrlMode(a),JSON.stringify(d));e=new MonacoLCWrapper.reconnectiongWSModule(d,void 0,{maxReconnectionDelay:1E4,minReconnectionDelay:1E3,reconnectionDelayGrowFactor:1.3,connectionTimeout:1E4,maxRetries:Infinity,debug:!1});MonacoLCWrapper.listenModule({webSocket:e,
onConnection:function(b){var d=t(b,f),e=d.start();d.onReady().then(function(){c(b,a,l)});b.onClose(function(){e.dispose()})}})},closeLspWebSocket:function(){n&&n.stopSendingMetric&&n.stopSendingMetric();e&&e.close()},setWsServerUrl:function(a){a&&"string"===typeof a&&(h=a)}}};this.monacoUtils=new function(){return{createEditor:b.createEditor,getEditorValue:b.getEditorValue,setEditorValue:b.setEditorValue,applyEditorHandlers:b.applyEditorHandlers,changeEditorSettings:b.changeEditorSettings,resizeEditor:b.resizeEditor,
clearEditorOptions:b.clearEditorOptions,disposeEditor:b.disposeEditor,loadMonacoDependencies:b.loadMonacoDependencies,showWarningLine:H.showWarningLine,getCompilerVersionForLanguage:k.getCompilerVersionForLanguage,getLanguageObjectForUi:k.getLanguageObjectForUi,closeLspWebSocket:w.closeLspWebSocket}}})();